<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>HowTo create SPF, DMARC and DKIM - Tutorial</title><meta name="description" content="Best Practices on Email Protection: SPF, DKIM and DMARCOnce we installed Zimbra Collaboration, we need to be aware of some additional configurations that will allow us to send emails to other Email sy"><meta property="og:type" content="article"><meta property="og:title" content="HowTo create SPF, DMARC and DKIM"><meta property="og:url" content="https://tutorial.getmedik.co.id/HowTo-create-SPF-DMARC-and-DKIM/index.html"><meta property="og:site_name" content="Tutorial"><meta property="og:description" content="Best Practices on Email Protection: SPF, DKIM and DMARCOnce we installed Zimbra Collaboration, we need to be aware of some additional configurations that will allow us to send emails to other Email sy"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://tutorial.getmedik.co.id/images/og_image.png"><meta property="article:published_time" content="2020-01-13T09:48:55.640Z"><meta property="article:modified_time" content="2020-01-13T09:59:06.993Z"><meta property="article:author" content="Harry"><meta property="article:tag" content="Zimbra"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tutorial.getmedik.co.id/images/og_image.png"><link rel="icon" href="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/favicon.svg"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/css/back-to-top.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/css/progressbar.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/css/style.css"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand is-flex-center"><a class="navbar-item navbar-logo" href="/"><img src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/logo.svg" alt="HowTo create SPF, DMARC and DKIM" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a> <a class="navbar-item" href="/archives">Archives</a> <a class="navbar-item" href="/categories">Categories</a> <a class="navbar-item" href="/tags">Tags</a> <a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card"><div class="card-content article"><div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto"><div class="level-left"><time class="level-item has-text-grey" datetime="2020-01-13T09:48:55.640Z">2020-01-13</time><div class="level-item"><a class="has-link-grey -link" href="/categories/HowTo/">HowTo</a></div><span class="level-item has-text-grey">13 minutes read (About 1994 words)</span></div></div><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">HowTo create SPF, DMARC and DKIM</h1><div class="content"><h3 id="Best-Practices-on-Email-Protection-SPF-DKIM-and-DMARC"><a href="#Best-Practices-on-Email-Protection-SPF-DKIM-and-DMARC" class="headerlink" title="Best Practices on Email Protection: SPF, DKIM and DMARC"></a>Best Practices on Email Protection: SPF, DKIM and DMARC</h3><p>Once we installed Zimbra Collaboration, we need to be aware of some additional configurations that will allow us to send emails to other Email systems with an improve Security, such Gmail, Hotmail, Yahoo!, etc. This Wiki article will show the different Email Protection resources that exists, depends of the volume of sent email, will be better to implement only one, or two, or maybe all of them, depends.</p><a id="more"></a><p><strong>SPF</strong></p><p>Sender Policy Framework (SPF) is an email validation system, designed to prevent unwanted emails using a spoofing system. To check this common security problem, SPF going to verify the source IP of the email and compare it with a DNS TXT record with a SPF content.<br><img src="https://i.imgur.com/DxV35be.png" alt="SPF"></p><h3 id="Where-needs-to-be-configured"><a href="#Where-needs-to-be-configured" class="headerlink" title="Where needs to be configured?"></a>Where needs to be configured?</h3><p>SPF needs to be configured in the Public DNS<br><img src="https://i.imgur.com/kb1a0gD.jpg" alt="SPF"></p><p>Understand the “all” feature in the SPF entry<br>SPF can be configured in different ways, since neutral to hard fail. Almost 98% of domains are using the ~all (softfail) that means even if something of the SPF entry is wrong against the source Mailserver, mark the mail only like softfail. Here, the complete table to understand the feature all in the SPF</p><p>Parameter Result Means<br>+all pass Permits all the email, like have nothing configured.<br>-all fail Will only mark the email like pass if the source Email Server fits exactly, IP, MX, etc. with the SPF entry.<br>~all softfail Allows to send the email, and if something is wrong will mark it like softfail.<br>?all neutral Without policy<br>Difference between ~all and -all<br>If your domain is under an SPAM attack trying to spoofing your domain, try to change the SPF to -all for a while, and reset to ~all when the attack ends. Keep selected the -all if you want to be strict with the SPF entry and you are sure that your DNS entry is correct.</p><p>How to test it<br>Have a lot of SPF tools to check if the DNS entry is correct, for example:</p><p><a href="http://tools.wordtothewise.com/spf" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">http://tools.wordtothewise.com/spf</a> (will show an overview of all the allowed IPS that can send using the domain)<br><a href="http://www.kitterman.com/spf/validate.html" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">http://www.kitterman.com/spf/validate.html</a> (Simple but effective, will show the SPF DNs entry and also the result: pass, softfail, fail, neutral, etc.)<br><a href="http://mxtoolbox.com/" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">http://mxtoolbox.com/</a> A Classic</p><p><strong>DKIM</strong></p><p>DomainKeys Identified Mail (DKIM), is a method to associate the domain name and the email, allowing to a person or company assume the responsibiltity of the email.</p><p><img src="https://i.imgur.com/V8a6HJm.png" alt="DKIM"></p><p>Where needs to be configured?<br>DKIM needs to be generated per domain in our Zimbra Server, and needs to be configured in the public DNS of each domain.</p><p>How to configure it?<br>To configure properly DKIM, please follow the next Wiki - Configuring_for_DKIM_Signing</p><p>Once have the DKIM generated in Zimbra, add the info in the public DNS, will looks like:</p><p><img src="https://i.imgur.com/PPCNz8q.jpg" alt="DKIM"></p><p><strong>Adding DKIM data to a domain with no existing DKIM configuration</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;opt&#x2F;zimbra&#x2F;libexec&#x2F;zmdkimkeyutil -a -d example.com</span><br></pre></td></tr></table></figure><p>After the data is generated, the public DNS record data that must be added for the domain to your DNS server will be displayed:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">zimbra@example.com:~$ &#x2F;opt&#x2F;zimbra&#x2F;libexec&#x2F;zmdkimkeyutil -a -d example.com</span><br><span class="line">DKIM Data added to LDAP for domain example.com with selector 0E9F184A-9577-11E1-AD0E-2A2FBBAC6BCB</span><br><span class="line">Public key to enter into DNS:</span><br><span class="line">0E9F184A-9577-11E1-AD0E-2A2FBBAC6BCB._domainkey IN TXT &quot;v&#x3D;DKIM1;&#x3D;rsa;</span><br><span class="line">p&#x3D;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDY5CBg15nZ2vYnRmrNub6Jn6ghQ2DXQbQgOJ&#x2F;E5IGziUYEuE2OnxkBm1h3jived21uHjpNy0naOZjLj0xLyyjclVy1chrhSbsGAhe8HLXUsdXyfRvNTq8NWLsUnMEsoomtJCJ</span><br><span class="line">&#x2F;6LYWYU1whOQ9oKZVAwWHSovAWZpByqNMZmFg7QIDAQAB&quot; ; ----- DKIM 0E9F184A-9577-11E1-AD0E-2A2FBBAC6BCB for example.com</span><br></pre></td></tr></table></figure><p><strong>Updating DKIM data for a domain</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;opt&#x2F;zimbra&#x2F;libexec&#x2F;zmdkimkeyutil -u -d example.com</span><br></pre></td></tr></table></figure><p>When the DKIM keys are updated, the DNS server will need to be reloaded with the new TXT record. It is advised to leave the previous TXT record in DNS for a period of time to allow verification of emails that were signed with the previous key to continue to succeed.</p><p><strong>Removing DKIM data for a domain</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;opt&#x2F;zimbra&#x2F;libexec&#x2F;zmdkimkeyutil -r -d example.com</span><br></pre></td></tr></table></figure><br>This command deletes the DKIM data from LDAP. New emails will no longer be signed for the domain. The DNS TXT record should remain for a period of time to allow verification of emails signed with this key.<p></p><p><strong>Retrieving the stored DKIM data for a domain</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;opt&#x2F;zimbra&#x2F;libexec&#x2F;zmdkimkeyutil -q -d example.com</span><br></pre></td></tr></table></figure><p>This command will output all the stored DKIM information, specifically</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DKIM Domain</span><br><span class="line">DKIM Selector</span><br><span class="line">DKIM Private Key</span><br><span class="line">DKIM Public Signature</span><br><span class="line">DKIM Identity</span><br></pre></td></tr></table></figure><p>Updating DNS<br>The public key DNS record should appear as a TXT resource record at:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECTOR._domainkey.DOMAIN</span><br><span class="line">The Selector is the first portion of the output from zmdkimkeyutil In the above example, it is 0E9F184A-9577-11E1-AD0E-2A2FBBAC6BCB</span><br></pre></td></tr></table></figure><ol><li>Once you have added the record to your nameserver, reload DNS.</li><li>Verify that the DNS server is returning the DNS record.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dig -t txt SELECTOR._domainkey.DOMAIN NAMESERVER</span><br><span class="line">Example:</span><br><span class="line">dig -t txt 0E9F184A-9577-11E1-AD0E-2A2FBBAC6BCB._domainkey.example.com ns.example.com</span><br></pre></td></tr></table></figure>If the key is retrieved correctly, then use opendkim-testkey script, you can find it for 8.6 and below here <strong>/opt/zimbra/opendkim/sbin/opendkim-testkey</strong> and starting ZCS 8.7 and above here <strong>/opt/zimbra/common/sbin/opendkim-testkey</strong> to verify that the public key matches the private key.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;opt&#x2F;zimbra&#x2F;common&#x2F;sbin&#x2F;opendkim-testkey -d example.com -s 0E9F184A-9577-11E1-AD0E-2A2FBBAC6BCB -x &#x2F;opt&#x2F;zimbra&#x2F;conf&#x2F;opendkim.conf</span><br></pre></td></tr></table></figure>If you get this error:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">opendkim-testkey: &#x2F;opt&#x2F;zimbra&#x2F;conf&#x2F;opendkim.conf: configuration error at line 0</span><br><span class="line">You have &#x2F;opt&#x2F;zimbra&#x2F;conf&#x2F;opendkim.conf missing.</span><br></pre></td></tr></table></figure>To get it, enable opendkim service issuimg:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zmprov ms &#96;zmhostname&#96; +zimbraServiceEnabled opendkim</span><br><span class="line">.&#x2F;libexec&#x2F;configrewrite opendkim</span><br></pre></td></tr></table></figure><h3 id="Revoking-a-DKIM-key-in-DNS"><a href="#Revoking-a-DKIM-key-in-DNS" class="headerlink" title="Revoking a DKIM key in DNS"></a>Revoking a DKIM key in DNS</h3></li></ol><p>If it becomes necessary to revoke a DKIM signing key, this can be easily done in DNS by using an empty “p=” tag in the TXT record.</p><p>2048-bit signatures starting ZCS 8.7.x<br>Starting ZCS 8.7.x Zimbra generates a 2048-bit key, after run the next command (remember the -a for the first time, and -u it’s just for update the DKIM entry):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;opt&#x2F;zimbra&#x2F;libexec&#x2F;zmdkimkeyutil -a -d yourdomain.com</span><br></pre></td></tr></table></figure><p>You will observe something like the next (with your own information):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DKIM Data added to LDAP for domain zimbra.io with selector 25D766CE-CEAC-11E7-B087-020B6DB9DD9A</span><br><span class="line">Public signature to enter into DNS:</span><br><span class="line">25D766CE-CEAC-11E7-B087-020B6DB9DD9A._domainkey IN      TXT     ( &quot;v&#x3D;DKIM1; k&#x3D;rsa; &quot;</span><br><span class="line">          &quot;p&#x3D;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwA4vVMiV3&#x2F;14hRMzbKNnBKNThqxTWLi2E5NqqHLccIJg&#x2F;P33yqwgGVKKUM9HFfXZ8urz6&#x2F;dl8oNG3oxs73W1sgWHrFRo3ZayHsuUMe+DLyt8wtyR&#x2F;RUae0nvd6Z6t0lPwujXWBrRS&#x2F;FeMg&#x2F;IGA8ExBKjD+aAYdQfH&#x2F;lhlDGzumTXgbSB0KMzlpOjcum2Aes69rEiR744GGaPb2&quot;</span><br><span class="line">          &quot;X3MxK8vjpeMIx16n2tADb0wKKP19WTF0at5HCP8F4SFflLUPJMOC1Be9FCWjTjNr1qrRZTwCwC7OC9tnV7SsKKXG+8D6hu39Tm5U1GLzpKvLMIv14b6MWsU9cV&#x2F;iVKH+hQq4YRowIDAQAB&quot; )  ; ----- DKIM key 25D766CE-CEAC-11E7-B087-020B6DB9DD9A for zimbra.io</span><br></pre></td></tr></table></figure><p>By default, DNS Servers only accepts 255 characters on every TXT entry, so depending on the DNS Server you are using you will need to do one of the next:</p><p>On cPanel UI it’s as easy at creating one new TXT entry with the selector, and on the value all together like “v=DKIM1; k=rsa; p=ALL-THE-CODE-“<br><img src="https://i.imgur.com/Z2Gcamo.png" alt="Hasil"></p><p>If using old version of Bind, or other DNS Server based in CLI, you can try by adding the DNS entry on the next format:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">25D766CE-CEAC-11E7-B087-020B6DB9DD9A._domainkey    IN    TXT    (&quot;v&#x3D;DKIM1; k&#x3D;rsa; p&#x3D;MIIBIjANBgkqhkiG9w...&quot;</span><br><span class="line">25D766CE-CEAC-11E7-B087-020B6DB9DD9A._domainkey    IN    TXT    &quot;...AQAB&quot;)</span><br></pre></td></tr></table></figure><p>Another way some DNS Servers might work are the next one:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">25D766CE-CEAC-11E7-B087-020B6DB9DD9A._domainkey IN      TXT     (&quot;v&#x3D;DKIM1;k&#x3D;rsa; p&#x3D;&quot;</span><br><span class="line">&quot;MIIBIjANBgkqhkiG9w...&quot;</span><br><span class="line">&quot;...AQAB&quot;)</span><br></pre></td></tr></table></figure><p>How to check that you have a valid DKIM signature<br>You can check if you have a valid DKIM by using for example the next URL - <a href="http://dkimcore.org/tools/keycheck.html" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">http://dkimcore.org/tools/keycheck.html</a> : Introduce your selector and your domain and click on check</p><p><img src="https://i.imgur.com/gxXSlFw.jpg" alt="Check"></p><p>After a few seconds you will see the result:</p><p><img src="https://i.imgur.com/TIBLrh1.jpg" alt="Imgur"></p><h3 id="DMARC"><a href="#DMARC" class="headerlink" title="DMARC"></a>DMARC</h3><p><strong>DMARC</strong>, which stands for “Domain-based Message Authentication, Reporting &amp; Conformance”, is a technical specification created by a group of organizations that want to help reduce the potential for email-based abuse by solving a couple of long-standing operational, deployment, and reporting issues related to email authentication protocols.</p><p>DMARC standardizes how email receivers perform email authentication using the well-known SPF and DKIM mechanisms. This means that senders will experience consistent authentication results for their messages at AOL, Gmail, Hotmail, Yahoo! and any other email receiver implementing DMARC. We hope this will encourage senders to more broadly authenticate their outbound email which can make email a more reliable way to communicate.</p><p><img src="https://i.imgur.com/gaI4ld4.png" alt="DMARC"></p><p>Text and Image inspired from the Official dmarc org website</p><p>Where needs to be configured?<br>The DMARC needs to be configured in the public DNS.</p><p>How to configure it?<br>The DMARC record can be generated in multiple websites, for example <a href="http://www.kitterman.com/dmarc/assistant.html" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">http://www.kitterman.com/dmarc/assistant.html</a></p><p>Using the domain example.com, a possible option can be the next, please note that all the default options will be included implicit, even if you don’t select them in the generator:</p><p><img src="https://i.imgur.com/0HjU2r0.png" alt="DMARC"></p><p>This configuration will generate the next DNS entry</p><p>DMARC record for: example.com</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Record should be published at _dmarc.example.com</span><br><span class="line">v&#x3D;DMARC1; p&#x3D;quarantine; rua&#x3D;dmarc@example.com; ruf&#x3D;dmarc@example.com; sp&#x3D;quarantine</span><br></pre></td></tr></table></figure><p>And will looks like this in a DNS with web interface:</p><p><img src="https://i.imgur.com/T0zHAGQ.png" alt="DMARC"></p><h3 id="How-to-test-it"><a href="#How-to-test-it" class="headerlink" title="How to test it"></a>How to test it</h3><p>One of the best Sites to test the DMARC is the next link - <a href="https://dmarcian.com/dmarc-inspector/google.com" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">https://dmarcian.com/dmarc-inspector/google.com</a> is coming with the google.com domain per default. This website will show you all the DMARC information about your domain.</p><h4 id="rDNS"><a href="#rDNS" class="headerlink" title="rDNS"></a>rDNS</h4><p>The reverse DNS resolution (rDNS) is a determination of the domain name that is associated to an IP. Some email companies like AOL, for example, will reject any email that doesn’t have a valid rDNS.</p><h4 id="Where-needs-to-be-configured-1"><a href="#Where-needs-to-be-configured-1" class="headerlink" title="Where needs to be configured?"></a>Where needs to be configured?</h4><p>To have a perfect match between the rDNS and the SMTP Banner of the server, need to have the next:</p><ul><li>In the public DNS of the ISP provider. Or if you have control of the public DNS of your IP range, then you can add the rDNS by yourself.</li><li>In the Zimbra Server, need to edit the HELO to match between it and the rDNS record.</li></ul><p><strong>How to configure it?</strong></p><p>To modify the Public DNS to match the IP and the rDNS, you need to contact with your ISP provider, or if you have acces to edit the DNS record of your IP, then change it by yourself. For example, if you have the IP 60.60.60.60 and needs to resolve to mail.example.com.</p><p>To edit the SMTP Banner and match it with the external rDNS. Need to edit the next in Zimbra: Zimbra 8.0.X</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zmlocalconfig -e postfix_smtpd_banner&#x3D;&quot;mail.example.com&quot;</span><br><span class="line">zmcontrol restart</span><br></pre></td></tr></table></figure><p><strong>Zimbra 8.5, 8.6, and above</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zmprov ms  &#96;zmhostname&#96; zimbraMtaSmtpdBanner mail.example.com</span><br><span class="line">zmcontrol restart</span><br></pre></td></tr></table></figure><p><strong>How to test it</strong></p><p>Use the next tool - <a href="http://mxtoolbox.com/ReverseLookup.aspx" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">http://mxtoolbox.com/ReverseLookup.aspx</a> and fill it with your Public IP, if you have everything well configured, will return the name that you want.</p><p><a href="https://wiki.zimbra.com/wiki/Best_Practices_on_Email_Protection:_SPF,_DKIM_and_DMARC" target="_blank" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">Source</a></p></div><div class="level is-size-7 is-uppercase"><div class="level-start"><div class="level-item"><span class="is-size-6 has-text-grey has-mr-7">#</span> <a class="has-link-grey -link" href="/tags/Zimbra/" rel="tag">Zimbra</a></div></div></div></div></div><div class="card card-transparent"><div class="level post-navigation is-flex-wrap is-mobile"><div class="level-end"><a class="level level-item has-link-grey article-nav-next" href="/install-ops-manager/"><span class="level-item">Install OpsManager MongoDb</span> <i class="level-item fas fa-chevron-right"></i></a></div></div></div></div><div class="column is-4-tablet is-4-desktop is-3-widescreen has-order-1 column-left"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered" style="flex-shrink:1"><div><figure class="image is-128x128 has-mb-6"><img class="is-rounded" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/avatar.png" alt="GetMedik"></figure><p class="is-size-4 is-block">GetMedik</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title has-text-weight-normal">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title has-text-weight-normal">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title has-text-weight-normal">2</p></a></div></div></nav><div class="level"><a class="level-item button is-link is-rounded" href="https://tutorial.getmedik.co.id" target="_blank" rel="noopener">Follow</a></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://tutorial.getmedik.co.id" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Tutorial</span> </span><span class="level-right"><span class="level-item tag">tutorial.getmedik.co.id</span></span></a></li><li><a class="level is-mobile" href="http://getmedik.co.id" target="_blank" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer"><span class="level-left"><span class="level-item">GetMedik</span> </span><span class="level-right"><span class="level-item tag">getmedik.co.id</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-marginless" href="/categories/HowTo/"><span class="level-start"><span class="level-item">HowTo</span> </span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-marginless" href="/categories/Install/"><span class="level-start"><span class="level-item">Install</span> </span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Tag Cloud</h3><a href="/tags/MongoDB/" style="font-size:10px">MongoDB</a> <a href="/tags/Zimbra/" style="font-size:10px">Zimbra</a></div></div><div class="column-right-shadow is-hidden-widescreen"><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><a href="/HowTo-create-SPF-DMARC-and-DKIM/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="HowTo create SPF, DMARC and DKIM"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-13T09:48:55.640Z">2020-01-13</time></div><a href="/HowTo-create-SPF-DMARC-and-DKIM/" class="title has-link-black-ter is-size-6 has-text-weight-normal">HowTo create SPF, DMARC and DKIM</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/HowTo/">HowTo</a></p></div></div></article><article class="media"><a href="/install-ops-manager/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="Install OpsManager MongoDb"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-07T11:18:05.246Z">2020-01-07</time></div><a href="/install-ops-manager/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Install OpsManager MongoDb</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/Install/">Install</a></p></div></div></article><article class="media"><a href="/install-zimbra/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="Install Zimbra Mail Server"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-03T09:10:07.852Z">2020-01-03</time></div><a href="/install-zimbra/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Install Zimbra Mail Server</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/Install/">Install</a></p></div></div></article><article class="media"><a href="/install-mongodb-cluster/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="Install MongoDB Cluster"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-24T05:35:54.669Z">2019-12-24</time></div><a href="/install-mongodb-cluster/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Install MongoDB Cluster</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/Install/">Install</a></p></div></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span> </span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span> </span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span> <span class="tag is-grey">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Zimbra/"><span class="tag">Zimbra</span> <span class="tag is-grey">2</span></a></div></div></div></div></div></div></div><div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right"><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><a href="/HowTo-create-SPF-DMARC-and-DKIM/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="HowTo create SPF, DMARC and DKIM"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-13T09:48:55.640Z">2020-01-13</time></div><a href="/HowTo-create-SPF-DMARC-and-DKIM/" class="title has-link-black-ter is-size-6 has-text-weight-normal">HowTo create SPF, DMARC and DKIM</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/HowTo/">HowTo</a></p></div></div></article><article class="media"><a href="/install-ops-manager/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="Install OpsManager MongoDb"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-07T11:18:05.246Z">2020-01-07</time></div><a href="/install-ops-manager/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Install OpsManager MongoDb</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/Install/">Install</a></p></div></div></article><article class="media"><a href="/install-zimbra/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="Install Zimbra Mail Server"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-03T09:10:07.852Z">2020-01-03</time></div><a href="/install-zimbra/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Install Zimbra Mail Server</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/Install/">Install</a></p></div></div></article><article class="media"><a href="/install-mongodb-cluster/" class="media-left"><p class="image is-64x64"><img class="thumbnail" src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/thumbnail.svg" alt="Install MongoDB Cluster"></p></a><div class="media-content"><div class="content"><div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-24T05:35:54.669Z">2019-12-24</time></div><a href="/install-mongodb-cluster/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Install MongoDB Cluster</a><p class="is-size-7 is-uppercase"><a class="has-link-grey -link" href="/categories/Install/">Install</a></p></div></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span> </span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span> </span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span> <span class="tag is-grey">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Zimbra/"><span class="tag">Zimbra</span> <span class="tag is-grey">2</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start has-text-centered-mobile"><a class="footer-logo is-block has-mb-6" href="/"><img src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/images/logo.svg" alt="HowTo create SPF, DMARC and DKIM" height="28"></a><p class="is-size-7">&copy; 2020 Harry&nbsp; Powered by <a href="https://hexo.io/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en")</script><script>var IcarusThemeSettings={site:{url:"https://tutorial.getmedik.co.id",external_link:{enable:!0,exclude:[]}},article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/js/animation.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/js/gallery.js" defer></script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" target="_blank" target="_blank" rel="external nofollow noopener noreferrer">Update my browser now</a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>document.addEventListener("DOMContentLoaded",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})})</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><script>document.addEventListener("DOMContentLoaded",function(){MathJax.Hub.Config({"HTML-CSS":{matchFontHeight:!1},SVG:{matchFontHeight:!1},CommonHTML:{matchFontHeight:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})})</script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/js/back-to-top.js" defer></script><script src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/js/main.js" defer></script><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."> <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/content.json"}</script><script src="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/js/insight.js" defer></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/css/search.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/harryarifin79/tutorial@gh-pages/css/insight.css"></body></html>